<!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd" >

<!-- JSR-299 TCK with mods (add excludes) -->

<suite name="Weld / JBoss AS run of CDI TCK" verbose="0"  >
   <test name="CDI TCK">
      <method-selectors>
         <method-selector>
            <selector-class name="org.jboss.testharness.impl.testng.DisableIntegrationTestsMethodSelector" />
         </method-selector>
      </method-selectors>
      <groups>
         <run>
            <exclude name="broken" />
            <exclude name="ri-broken" />
            <exclude name="jboss-as-broken" />
         </run>
      </groups>
      <packages>
         <package name="org.jboss.jsr299.tck.tests.*" />
         <package name="org.jboss.jsr299.tck.interceptors.tests.*" />
      </packages>
      <classes>
         <!-- JBoss AS 6.0.0.M1 is still using EJB 3.0 Interceptor API - JBAS-7421 -->
         <class name="org.jboss.jsr299.tck.interceptors.tests.invocationContext.InvocationContextTest">
            <methods>
               <exclude name="testGetTimerMethod" />
            </methods>
         </class>
         <!--
               The following tests are broken in TCK 1.0.0 and succeed because of a bug in the 1.0.0 version of the RI
               The fix for the 1.0.1 version of the RI requires version 1.0.1 or later of the TCK.
               The tests must be re-enabled once CDI TCK 1.0.1 or later is used.
          -->
         <class name="org.jboss.jsr299.tck.tests.context.dependent.DependentContextTest">
             <methods>
                 <exclude name="testDependentScopedDecoratorsAreDependentObjectsOfBean"/>
             </methods>
         </class>
         <class name="org.jboss.jsr299.tck.tests.decorators.definition.DecoratorDefinitionTest">
             <methods>
                 <exclude name="testDecoratorIsManagedBean"/>
             </methods>
         </class>
         <class name="org.jboss.jsr299.tck.tests.decorators.definition.inject.delegateConstructor.DelegateInjectionPointTest">
             <methods>
                 <exclude name="testDecoratorDelegateInjectionPoints"/>
             </methods>
         </class>
         <class name="org.jboss.jsr299.tck.tests.decorators.definition.inject.delegateField.DelegateFieldInjectionPointTest">
             <methods>
                 <exclude name="testDecoratorDelegateInjectionPoints"/>
             </methods>
         </class>
         <class name="org.jboss.jsr299.tck.tests.decorators.definition.inject.delegateInitializerMethod.DelegateInjectionPointTest">
             <methods>
                 <exclude name="testDecoratorDelegateInjectionPoints"/>
             </methods>
         </class>
         <class name="org.jboss.jsr299.tck.tests.decorators.invocation.DecoratorInvocationTest">
             <methods>
                 <exclude name="testChainedDecoratorInvocation"/>
                 <exclude name="testDecoratorInvocation"/>
             </methods>
         </class>
         <class name="org.jboss.jsr299.tck.tests.decorators.invocation.observer.DecoratorInvocationTest">
            <methods>
                <exclude name="testDecoratorInvocation"/>
            </methods>
         </class>
         <class name="org.jboss.jsr299.tck.tests.decorators.invocation.producer.method.DecoratorInvocationTest">
            <methods>
                <exclude name="testDecoratorInvocation"/>
            </methods>
         </class>
         <class name="org.jboss.jsr299.tck.tests.implementation.producer.field.definition.ProducerFieldDefinitionTest">
            <methods>
               <exclude name="testApiTypeForArrayTypeReturn"/>
               <exclude name="testApiTypeForClassReturn"/>
               <exclude name="testApiTypeForInterfaceReturn"/>
               <exclude name="testApiTypeForPrimitiveReturn"/>
               <exclude name="testBeanDeclaresMultipleProducerFields"/>
               <exclude name="testBindingType"/>
               <exclude name="testDefaultBindingType"/>
               <exclude name="testDefaultNamedField"/>
               <exclude name="testNamedField"/>
               <exclude name="testNonStaticProducerFieldNotIndirectlyInherited"/>
               <exclude name="testNonStaticProducerFieldNotInherited"/>
               <exclude name="testParameterizedReturnType"/>
               <exclude name="testScopeType"/>
               <exclude name="testStereotype"/>
            </methods>
         </class>
         <class name="org.jboss.jsr299.tck.tests.lookup.injectionpoint.InjectionPointTest">
             <methods>
                <exclude name="testIsDelegate"/>
             </methods>
         </class>
         <class name="org.jboss.jsr299.tck.tests.implementation.producer.method.definition.ProducerMethodDefinitionTest">
             <methods>
                 <exclude name="testParameterizedReturnType"/>
             </methods>
         </class>
         <class name="org.jboss.jsr299.tck.tests.lookup.typesafe.resolution.ResolutionByTypeTest">
             <methods>
                 <exclude name="testGenericBeanTypesOnManagedBean"/>
                 <exclude name="testResolveByTypeWithTypeParameter"/>
             </methods>
         </class>
         <class name="org.jboss.jsr299.tck.tests.policy.PolicyAvailabilityTest">
            <methods>
               <exclude name="testProducerPoliciesOnClass" />
               <exclude name="testProducerPoliciesOnMethodAndField" />
              </methods>
         </class>
         <class name="org.jboss.jsr299.tck.tests.implementation.simple.lifecycle.SimpleBeanLifecycleTest">
            <methods>
               <exclude name="testSpecializedBeanExtendsManagedBean" />
            </methods>
         </class>
         <class name="org.jboss.jsr299.tck.tests.lookup.byname.ResolutionByNameTest">
            <methods>
               <exclude name="testAmbiguousELNamesResolved" />
            </methods>
         </class>
      </classes>
   </test>
   
</suite>
