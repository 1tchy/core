<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:s="http://jboss.com/products/seam/taglib">
  
  <ui:composition template="template.xhtml">
     <ui:define name="viewMetadata">
       <f:metadata>
         <f:viewParam name="id" value="#{paster.codeId}"/>
         <f:event type="preRenderView" listener="#{paster.loadCode}"/>
       </f:metadata>      
    </ui:define>    
  
  	<ui:define name="myscripts">
		<!-- Include required JS files -->
		<ui:include src="jsScripts.xhtml"/>
	</ui:define>
	
  	<ui:define name="themes">
  		<link href="syntaxhighlighter/styles/shCore.css" rel="stylesheet" type="text/css" />
		<link rel="stylesheet" href="syntaxhighlighter/styles/shThemeDefault.css" type="text/css" title="Default Theme" media="screen"/>
		<link rel="alternate stylesheet" href="syntaxhighlighter/styles/shThemeEclipse.css" type="text/css" title="Eclipse Theme" media="screen"/>
		<link rel="alternate stylesheet" href="syntaxhighlighter/styles/shThemeEmacs.css" type="text/css" title="Emacs Theme" media="screen"/>
		<link rel="alternate stylesheet" href="syntaxhighlighter/styles/shThemeFadeToGray.css" type="text/css" title="FadeToGray Theme" media="screen"/>
		<link rel="alternate stylesheet" href="syntaxhighlighter/styles/shThemeMidnight.css" type="text/css" title="Midnight Theme" media="screen"/>
		<link rel="alternate stylesheet" href="syntaxhighlighter/styles/shThemeRDark.css" type="text/css" title="Dark Theme" media="screen"/>
		<link rel="alternate stylesheet" href="syntaxhighlighter/styles/shThemeDjango.css" type="text/css" title="Django Theme" media="screen"/>
  	</ui:define>

   	<ui:define name="mainarea">
   		<div style="width: 100%; padding: 7px;">
	   		    
		   		<h:panelGrid columns="3" style="width: 80%; margin: 0px; padding: 0px;">

		   			<h:panelGroup>
		   				<h:outputLabel for="user" value="User: "/>   		
						<h:outputText id="user" maxlength="30" size="30" value="#{code.user}"/>
		   			</h:panelGroup>

		   			<h:panelGroup>
		   				<h:outputLabel for="theme" value="Choose theme: "/>   
		   				<h:selectOneMenu id="theme" value="#{paster.theme}" onchange="chooseStyle(this.value);"> <!-- this.form.submit() -->		
		   					<f:selectItems value="#{dataBean.themeItems}"/>
			   			</h:selectOneMenu>
			   			<a href="download?id=#{code.hash == null ? code.id : code.hash}" style="text-decoration: none;"><input type="button" value="Download file" /></a>
		   			</h:panelGroup>

		   			<h:panelGroup style="text-align:right;">			   				   			
		   				<h:outputLabel for="unwrap" value="Unwrap code: "/>   
		   				<h:selectBooleanCheckbox id="unwrap" onchange="unwrap('codearea');"/>
		   			</h:panelGroup>

		   		</h:panelGrid>
		   		
		   		<h:outputText value="Pasted code: "/>
		   		<div id="codearea" style="width:99%; border: 1px solid #7F7F7F; height:450px; overflow:scroll;">			   		
			   			<pre class="brush: #{paster.brush}">#{code.text}</pre>	
		   		</div>
		   		
		   		&nbsp;<br/>
		   		<h:outputLabel for="note" value="Note: "/>
		   		<div >		   			 
		   			<h:outputText id="note" value="#{code.note}"/>		   			
		   		</div>
   		</div>
   	</ui:define>
   	
    <ui:define name="rightmenu">
   		<ui:include src="rightMenuDefault.xhtml"/>
   	</ui:define> 
    
  </ui:composition>
</html>
